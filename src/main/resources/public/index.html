<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/themes/light.css" />
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/shoelace-autoloader.js"></script>
    <link rel="stylesheet" href="/css/styles.css" />
    <script src="/js/app.js"></script>
    <title>Token visualizer</title>
</head>
<body>
<div class="grid">
    <div class="row">
        <h1>Token visualizer</h1>
        <p>
            This tool allows you to visualize the tokens of a text prompt, using
            the <a href="https://deepmind.google/technologies/gemini/">Gemini</a> and <a href="https://ai.google.dev/gemma">Gemma</a> tokenizer
            and the various embedding <a href="https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions#embeddings_stable_model_versions">models</a>
            from Google Cloud <a href="https://cloud.google.com/vertex-ai/docs">Vertex AI.</a>
            Tokens are also counted, and hovering over them will indicate their internal IDs.
        </p>
        <p>
            Note: The Gemini/Gemma tokenizer token IDs are not the real IDs as the library used in this application doesn't provide them,
            but the <code>text-bison</code> embedding model uses the same vocabulary as the Gemini/Gemma tokenizer, and thus shows the right token IDs.
        </p>
        <p>
            The source code of this application is <a href="https://github.com/glaforge/llm-text-tokenization">available on Github</a>.
        </p>
    </div>
    <div class="row">
        <h2>Your text</h2>
    </div>
    <div class="row">
        <sl-textarea placeholder="Insert your prompt here" id="prompt" filled></sl-textarea>
    </div>
    <div class="row">
        <sl-select id="model" value="gemini">
            <small>GEMINI & GEMMA</small>
            <sl-option value="gemini">gemini</sl-option>
            <small>EMBEDDING MODELS</small>
            <sl-option value="text-embedding-004">text-embedding</sl-option>
            <sl-option value="text-multilingual-embedding-002">text-multilingual-embedding</sl-option>
            <sl-option value="textembedding-gecko">textembedding-gecko</sl-option>
            <sl-option value="textembedding-gecko-multilingual">textembedding-gecko-multilingual</sl-option>
            <sl-option value="text-bison">text-bison</sl-option>
            <sl-option value="text-unicorn">text-unicorn</sl-option>
            <sl-option value="chat-bison">chat-bison</sl-option>
            <sl-option value="code-bison">code-bison</sl-option>
            <sl-option value="code-gecko">code-gecko</sl-option>
            <sl-option value="codechat-bison">codechat-bison</sl-option>
        </sl-select>
    </div>
    <div class="row">
        <sl-button id="submitBtn" variant="primary" onclick="tokenize()">Tokenize</sl-button>
        <sl-button id="clearBtn" variant="default" onclick="clearAll()">Clear</sl-button>
    </div>
    <div class="row">
        <h2>The <span id="count"></span> tokens</h2>
    </div>
    <div class="row">
        <div id="tokens"></div>
    </div>
</div>
</body>
</html>